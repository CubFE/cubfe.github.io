var T=Object.defineProperty,b=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;var m=(e,t,n)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,r=(e,t)=>{for(var n in t||(t={}))w.call(t,n)&&m(e,n,t[n]);if(d)for(var n of d(t))p.call(t,n)&&m(e,n,t[n]);return e},o=(e,t)=>b(e,h(t));import{k as x,am as v}from"./style_icon.js";import{b as E,d as O,u as B,T as s,C as I}from"./mobile.js";import{g as M}from"./Success.js";const u={msg:"",id:"",duration:2e3,center:!0,type:"text",title:"",customClass:"",bottom:"30px",size:"base",iconSize:"20",icon:null,textAlignCenter:!0,loadingRotate:!0,bgColor:"",onClose:null,unmount:null,cover:!1,coverColor:"",closeOnClickOverlay:!1};let i=[],c=[];const f=e=>{if(e){const t=document.getElementById(e);c=c.filter(n=>n.id!==e),i=i.filter(n=>n!==e),t&&document.body.removeChild(t)}else i.forEach(t=>{const n=document.getElementById(t);n&&document.body.removeChild(n)}),c=[],i=[]},k=e=>{const t=document.getElementById(e.id);if(t){const n=c.find(g=>g.id===e.id);n?e=r(r(r({},u),n),e):e=r(r({},u),e);const C=x(s,e);return v(C,t),y}},a=e=>{e.unmount=f;let t;if(e.id){if(t=e.id,i.find(n=>n===e.id))return k(e)}else t=new Date().getTime()+"";return e=r(r({},u),e),e.id=t,i.push(e.id),c.push(e),I(e,{wrapper:s}),y},l=e=>{if(!e){console.warn("[cubui Toast]: msg不能为空");return}},y={text(e,t={}){return l(e),a(o(r({},t),{type:"text",msg:e}))},success(e,t={}){return l(e),a(o(r({icon:M},t),{msg:e,type:"success"}))},fail(e,t={}){return l(e),a(o(r({icon:E},t),{msg:e,type:"fail"}))},warn(e,t={}){return l(e),a(o(r({icon:O},t),{msg:e,type:"warn"}))},loading(e,t={}){return a(o(r({icon:B},t),{msg:e,type:"loading"}))},hide(e){f(e)},install(e){e.use(s)}};export{y as s};
