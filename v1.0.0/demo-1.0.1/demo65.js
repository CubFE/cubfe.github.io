var E=Object.defineProperty;var D=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var B=(e,s,n)=>s in e?E(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n,v=(e,s)=>{for(var n in s||(s={}))$.call(s,n)&&B(e,n,s[n]);if(D)for(var n of D(s))F.call(s,n)&&B(e,n,s[n]);return e};import{c as T}from"./mobile.js";import{d as P,x as A,a as f,g as M,Q as w,ar as U,_ as L,r as k,b as V,e as i,t as S,k as a,w as r,o as j,l as b,as as q,at as z}from"./style_icon.js";import{s as I}from"./index.js";import"./Success.js";const{translate:G}=T("sku"),Q=()=>U({"zh-CN":{basic:"基础用法",noSell:"不可售",customStepper:"自定义计步器",slots:"自定义插槽"},"en-US":{basic:"Basic Usage",noSell:"Not Sell",customStepper:"Custom Stepper",slots:"Custom Slots"}}),R=P({props:{},setup(){Q();const e=A({base:!1,notSell:!1,customStepper:!1,customBySlot:!1,showAddressPopup:!1}),s=A({skuData:[],goodsInfo:{},imagePathMap:{}}),n=()=>'<div style="width:100%;text-align:right;color:#F00">2 件起售</div>',C=f("抱歉，此商品在所选区域暂无存货"),g=f("(配送地会影响库存，请先确认)"),h=f([{id:1,addressDetail:"th ",cityName:"石景山区",countyName:"城区",provinceName:"北京",selectedAddress:!0,townName:""},{id:2,addressDetail:"12_ ",cityName:"电饭锅",countyName:"扶绥县",provinceName:"北京",selectedAddress:!1,townName:""},{id:3,addressDetail:"发大水比 ",cityName:"放到",countyName:"广宁街道",provinceName:"钓鱼岛全区",selectedAddress:!1,townName:""},{id:4,addressDetail:"还是想吧百度吧 ",cityName:"研发",countyName:"八里庄街道",provinceName:"北京",selectedAddress:!1,townName:""}]);M(()=>{u()});const u=()=>{fetch("//storage.360buyimg.com/cubui/3x/data.js").then(t=>t.json()).then(t=>{const{Sku:d,Goods:m,imagePathMap:l}=t;s.skuData=d,s.goodsInfo=m,s.imagePathMap=l}).catch(t=>console.log("Oh, error",t))};return v(v({selectSku:t=>{const{sku:d,parentIndex:m}=t;if(d.disable)return!1;s.skuData[m].list.forEach(l=>{l.active=l.id==d.id}),s.goodsInfo={skuId:d.id,price:"4599.00"},s.skuData[0].list.forEach(l=>{l.active&&!l.disable&&(s.goodsInfo.imagePath=s.imagePathMap[l.id])})},changeStepper:t=>{console.log("购买数量",t)},clickBtnOperate:t=>{console.log("点击了操作按钮",t)},close:()=>{console.log("选择弹框关闭")},existAddress:h,selectedAddress:(t,d)=>{const{provinceName:m,countyName:l,cityName:O}=d;g.value=`${m}${l}${O}`},addressDesc:g,stepperExtraText:n,btnExtraText:C,overLimit:t=>{t.action=="reduce"?I.text(`至少买${t.value}件哦`):I.text(`最多买${t.value}件哦`)},translate:G},w(e)),w(s))}});const H=e=>(q("data-v-0463b01c"),e=e(),z(),e),J={class:"demo"},K={class:"sku-operate-box"},W=H(()=>i("span",{class:"tag"},null,-1)),X={class:"cub-sku-header-right-extra"},Y={class:"sku-operate-box"},Z={class:"address"};function x(e,s,n,C,g,h){const u=k("cub-cell"),p=k("cub-sku"),c=k("cub-button"),y=k("cub-price"),N=k("cub-address");return j(),V("div",J,[i("h2",null,S(e.translate("basic")),1),a(u,{title:e.translate("basic"),desc:"",onClick:s[0]||(s[0]=o=>e.base=!0)},null,8,["title"]),i("h2",null,S(e.translate("noSell")),1),a(u,{title:e.translate("noSell"),desc:"",onClick:s[1]||(s[1]=o=>e.notSell=!0)},null,8,["title"]),i("h2",null,S(e.translate("customStepper")),1),a(u,{title:e.translate("customStepper"),desc:"",onClick:s[2]||(s[2]=o=>e.customStepper=!0)},null,8,["title"]),i("h2",null,S(e.translate("slots")),1),a(u,{title:e.translate("slots"),desc:"",onClick:s[3]||(s[3]=o=>e.customBySlot=!0)},null,8,["title"]),a(p,{visible:e.base,"onUpdate:visible":s[4]||(s[4]=o=>e.base=o),sku:e.skuData,goods:e.goodsInfo,onSelectSku:e.selectSku,onClickBtnOperate:e.clickBtnOperate,onClose:e.close},null,8,["visible","sku","goods","onSelectSku","onClickBtnOperate","onClose"]),a(p,{visible:e.notSell,"onUpdate:visible":s[5]||(s[5]=o=>e.notSell=o),sku:e.skuData,goods:e.goodsInfo,btnExtraText:e.btnExtraText,onChangeStepper:e.changeStepper,btnOptions:["buy","cart"],onSelectSku:e.selectSku},{"sku-operate":r(()=>[i("div",K,[a(c,{class:"sku-operate-box-dis",type:"warning"},{default:r(()=>[b("查看相似商品")]),_:1}),a(c,{class:"sku-operate-box-dis",type:"info"},{default:r(()=>[b("到货通知")]),_:1})])]),_:1},8,["visible","sku","goods","btnExtraText","onChangeStepper","onSelectSku"]),a(p,{visible:e.customStepper,"onUpdate:visible":s[6]||(s[6]=o=>e.customStepper=o),sku:e.skuData,goods:e.goodsInfo,stepperMax:7,stepperMin:2,stepperExtraText:e.stepperExtraText,onChangeStepper:e.changeStepper,onOverLimit:e.overLimit,btnOptions:["buy","cart"],onSelectSku:e.selectSku,onClickBtnOperate:e.clickBtnOperate,onClose:e.close},null,8,["visible","sku","goods","stepperExtraText","onChangeStepper","onOverLimit","onSelectSku","onClickBtnOperate","onClose"]),a(p,{visible:e.customBySlot,"onUpdate:visible":s[8]||(s[8]=o=>e.customBySlot=o),sku:e.skuData,goods:e.goodsInfo,btnOptions:["buy","cart"],onSelectSku:e.selectSku,onClickBtnOperate:e.clickBtnOperate},{"sku-header-price":r(()=>[i("div",null,[a(y,{price:e.goodsInfo.price,needSymbol:!0,thousands:!1},null,8,["price"]),W])]),"sku-header-extra":r(()=>[i("span",X,"重量：0.1kg 编号："+S(e.goodsInfo.skuId),1)]),"sku-operate":r(()=>[i("div",Y,[a(c,{class:"sku-operate-item",shape:"square",type:"warning"},{default:r(()=>[b("加入购物车")]),_:1}),a(c,{class:"sku-operate-item",shape:"square",type:"primary"},{default:r(()=>[b("立即购买")]),_:1})])]),"sku-select-top":r(()=>[i("div",Z,[a(u,{style:{"box-shadow":"none",padding:"13px 0"},title:"送至",desc:e.addressDesc,onClick:s[7]||(s[7]=o=>e.showAddressPopup=!0)},null,8,["desc"])])]),_:1},8,["visible","sku","goods","onSelectSku","onClickBtnOperate"]),a(N,{visible:e.showAddressPopup,"onUpdate:visible":s[9]||(s[9]=o=>e.showAddressPopup=o),type:"exist","exist-address":e.existAddress,onClose:e.close,"is-show-custom-address":!1,onSelected:e.selectedAddress,"exist-address-title":"配送至"},null,8,["visible","exist-address","onClose","onSelected"])])}const ne=L(R,[["render",x],["__scopeId","data-v-0463b01c"]]);export{ne as default};
